
#:kivy 1.9

BoxLayout:
    canvas.before:
        Color:
            rgba: 0, 0, 0, 0
        Rectangle:
            pos: self.pos
            size: self.size

    orientation: 'vertical'

    Label:
        text: 'Tampi'
        font_size: 25    

    Label:
        text: 'There are '+str(app.remainingDays) + ' until the start of the next cycle'
        text_size: self.width, None
        size_hint: 1, None
        height: self.texture_size[1]
        halign: 'center' 
        padding: dp(15), dp(30)

    ToggleButton:
        text: 'Cycle'
        state: app.cycle
        on_state: app.cycle = self.state

    ToggleButton:
        text: 'Preset 1'
        state: app.preset1
        on_state: app.preset1 = self.state

    ToggleButton:
        text: 'Preset 2'
        state: app.preset2
        on_state: app.preset2 = self.state

    Slider:
        value: app.brightness
        on_value: app.brightness = self.value

    ToggleButton:
        text: 'Power'
        state: 'down' if app.lamp_is_on else 'normal'
        on_state: app.lamp_is_on = True if self.state == 'down' else False
